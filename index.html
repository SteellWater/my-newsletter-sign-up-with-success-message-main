<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- displays site properly based on user's device -->

  <link rel="icon" type="image/png" sizes="32x32" href="./assets/images/favicon-32x32.png">
  <link rel="stylesheet" href="styles.css">

  <title>Frontend Mentor | Newsletter sign-up form with success message</title>
  
</head>
<body>

  <!-- Sign-up form start -->
  <main id="main">
    <div id="signup">
      <h1>Stay updated!</h1>
      <div id="join">
        <p>Join 60,000+ product managers receiving monthly updates on:</p>
        <ul>
          <li><img class="icon-list" src="assets\images\icon-list.svg" alt="icon-list"><p class="list-text">Product discovery and building what matters</p></li>
          <li><img class="icon-list" src="assets\images\icon-list.svg" alt="icon-list"><p class="list-text">Measuring to ensure updates are a success</p></li>
          <li><img class="icon-list" src="assets\images\icon-list.svg" alt="icon-list"><p class="list-text">And much more!</p></li>
        </ul>
      </div>
      
      <!--  <form action="onsuccess.html" method="post">  -->
      <form action="" method="post" onsubmit="validateForm()">
        <ul>
          <li class="email-label"><label for="email">Email address</label></li>
          <li id="email-list"><input type="email" id="email" name="email" placeholder="email@company.com"></li>
          <li><button id="submit" type="submit" formaction="">Subscribe to monthly newsletter</button></li>
          <!--<li id="submit-list"><input type="submit" id="submit" name="submit" value="Subscribe to monthly newsletter"></li>-->
        </ul>
      </form>
    </div>
    <img id="img-illustration" src="assets\images\illustration-sign-up-desktop.svg" alt="desktop signup illustration">
  </main>
    <!-- Sign-up form end -->

    <!-- Success message start -->
  
    <div id="on-success">
      <img class="icon-on-success" src="assets\images\icon-list.svg" alt="icon-list">
      <h1>Thanks for subscribing!</h1>
      <p id="confirmation-text">A confirmation email has been sent to <b id="confirmed-email">ash@loremcompany.com</b>.</br>Please open it and click the button inside to confirm your subscription.</p>
      <button type="submit" id="dismiss-button" onclick="dismiss()">Dismiss message</button>
    </div>
    <!--
    -->
    <!-- Success message end -->
      
  <div class="attribution">
    Challenge by <a href="https://www.frontendmentor.io?ref=challenge" target="_blank">Frontend Mentor</a>. 
    Coded by <a href="https://github.com/SteellWater">SteellWater</a>.
  </div>

  <script>
    function validateForm() {
        const email = document.getElementById("email").value;
        //alert(email);
        if(email == "")
        document.getElementById("confirmed-email").innerHTML = "ash@loremcompany.com";
        else
          document.getElementById("confirmed-email").innerHTML = email;
        const main = document.getElementById("main");
        const onSuccess = document.getElementById("on-success");
        main.innerHTML = '';
        onSuccess.style.display="block";
    }
    function dismiss() {
      location.reload();
    }
  </script>
</body>
</html>